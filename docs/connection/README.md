# connection

## Overview

Connection between sources and destinations.

### Available Operations

* [createConnection](#createconnection) - Create a connection between a source and a destination
* [deleteConnection](#deleteconnection) - Delete a connection
* [getConnection](#getconnection) - Get a connection
* [listAllConnectionsForWorkspace](#listallconnectionsforworkspace) - Returns all connections for a workspace, including deleted connections.
* [listConnectionsForWorkspace](#listconnectionsforworkspace) - Returns all connections for a workspace.
* [resetConnection](#resetconnection) - Reset the data for the connection. Deletes data generated by the connection in the destination. Resets any cursors back to initial state.
* [searchConnections](#searchconnections) - Search connections
* [syncConnection](#syncconnection) - Trigger a manual sync of the connection
* [updateConnection](#updateconnection) - Update a connection

## createConnection

Create a connection between a source and a destination

### Example Usage

```php
<?php

declare(strict_types=1);
require_once 'vendor/autoload.php';

use \airbyte\airbyte_oss\SDK;
use \airbyte\airbyte_oss\Models\Shared\ConnectionCreate;
use \airbyte\airbyte_oss\Models\Shared\GeographyEnum;
use \airbyte\airbyte_oss\Models\Shared\NamespaceDefinitionTypeEnum;
use \airbyte\airbyte_oss\Models\Shared\NonBreakingChangesPreferenceEnum;
use \airbyte\airbyte_oss\Models\Shared\ResourceRequirements;
use \airbyte\airbyte_oss\Models\Shared\ConnectionSchedule;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleTimeUnitEnum;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleData;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleDataBasicSchedule;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleDataBasicScheduleTimeUnitEnum;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleDataCron;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleTypeEnum;
use \airbyte\airbyte_oss\Models\Shared\ConnectionStatusEnum;
use \airbyte\airbyte_oss\Models\Shared\AirbyteCatalog;
use \airbyte\airbyte_oss\Models\Shared\AirbyteStreamAndConfiguration;
use \airbyte\airbyte_oss\Models\Shared\AirbyteStreamConfiguration;
use \airbyte\airbyte_oss\Models\Shared\DestinationSyncModeEnum;
use \airbyte\airbyte_oss\Models\Shared\SelectedFieldInfo;
use \airbyte\airbyte_oss\Models\Shared\SyncModeEnum;
use \airbyte\airbyte_oss\Models\Shared\AirbyteStream;

$sdk = SDK::builder()
    ->build();

try {
    $request = new ConnectionCreate();
    $request->destinationId = '929396fe-a759-46eb-90fa-aa2352c59559';
    $request->geography = GeographyEnum::AUTO;
    $request->name = 'Cecilia Yundt MD';
    $request->namespaceDefinition = NamespaceDefinitionTypeEnum::SOURCE;
    $request->namespaceFormat = '${SOURCE_NAMESPACE}';
    $request->nonBreakingChangesPreference = NonBreakingChangesPreferenceEnum::DISABLE;
    $request->notifySchemaChanges = false;
    $request->operationIds = [
        'fa946773-9251-4aa5-ac3f-5ad019da1ffe',
    ];
    $request->prefix = 'nihil';
    $request->resourceRequirements = new ResourceRequirements();
    $request->resourceRequirements->cpuLimit = 'praesentium';
    $request->resourceRequirements->cpuRequest = 'voluptatibus';
    $request->resourceRequirements->memoryLimit = 'ipsa';
    $request->resourceRequirements->memoryRequest = 'omnis';
    $request->schedule = new ConnectionSchedule();
    $request->schedule->timeUnit = ConnectionScheduleTimeUnitEnum::DAYS;
    $request->schedule->units = 739264;
    $request->scheduleData = new ConnectionScheduleData();
    $request->scheduleData->basicSchedule = new ConnectionScheduleDataBasicSchedule();
    $request->scheduleData->basicSchedule->timeUnit = ConnectionScheduleDataBasicScheduleTimeUnitEnum::MINUTES;
    $request->scheduleData->basicSchedule->units = 39187;
    $request->scheduleData->cron = new ConnectionScheduleDataCron();
    $request->scheduleData->cron->cronExpression = 'reprehenderit';
    $request->scheduleData->cron->cronTimeZone = 'ut';
    $request->scheduleType = ConnectionScheduleTypeEnum::CRON;
    $request->sourceCatalogId = '15471b5e-6e13-4b99-9488-e1e91e450ad2';
    $request->sourceId = 'abd44269-802d-4502-a94b-b4f63c969e9a';
    $request->status = ConnectionStatusEnum::ACTIVE;
    $request->syncCatalog = new AirbyteCatalog();
    $request->syncCatalog->streams = [
        new AirbyteStreamAndConfiguration(),
        new AirbyteStreamAndConfiguration(),
        new AirbyteStreamAndConfiguration(),
        new AirbyteStreamAndConfiguration(),
    ];

    $response = $sdk->connection->createConnection($request);

    if ($response->connectionRead !== null) {
        // handle response
    }
} catch (Exception $e) {
    // handle exception
}
```

## deleteConnection

Delete a connection

### Example Usage

```php
<?php

declare(strict_types=1);
require_once 'vendor/autoload.php';

use \airbyte\airbyte_oss\SDK;
use \airbyte\airbyte_oss\Models\Shared\ConnectionIdRequestBody;

$sdk = SDK::builder()
    ->build();

try {
    $request = new ConnectionIdRequestBody();
    $request->connectionId = 'fa77dfb1-4cd6-46ae-b95e-fb9ba88f3a66';

    $response = $sdk->connection->deleteConnection($request);

    if ($response->statusCode === 200) {
        // handle response
    }
} catch (Exception $e) {
    // handle exception
}
```

## getConnection

Get a connection

### Example Usage

```php
<?php

declare(strict_types=1);
require_once 'vendor/autoload.php';

use \airbyte\airbyte_oss\SDK;
use \airbyte\airbyte_oss\Models\Shared\ConnectionIdRequestBody;

$sdk = SDK::builder()
    ->build();

try {
    $request = new ConnectionIdRequestBody();
    $request->connectionId = '997074ba-4469-4b6e-a141-959890afa563';

    $response = $sdk->connection->getConnection($request);

    if ($response->connectionRead !== null) {
        // handle response
    }
} catch (Exception $e) {
    // handle exception
}
```

## listAllConnectionsForWorkspace

List connections for workspace, including deleted connections.

### Example Usage

```php
<?php

declare(strict_types=1);
require_once 'vendor/autoload.php';

use \airbyte\airbyte_oss\SDK;
use \airbyte\airbyte_oss\Models\Shared\WorkspaceIdRequestBody;

$sdk = SDK::builder()
    ->build();

try {
    $request = new WorkspaceIdRequestBody();
    $request->workspaceId = 'e2516fe4-c8b7-411e-9b7f-d2ed028921cd';

    $response = $sdk->connection->listAllConnectionsForWorkspace($request);

    if ($response->connectionReadList !== null) {
        // handle response
    }
} catch (Exception $e) {
    // handle exception
}
```

## listConnectionsForWorkspace

List connections for workspace. Does not return deleted connections.

### Example Usage

```php
<?php

declare(strict_types=1);
require_once 'vendor/autoload.php';

use \airbyte\airbyte_oss\SDK;
use \airbyte\airbyte_oss\Models\Shared\WorkspaceIdRequestBody;

$sdk = SDK::builder()
    ->build();

try {
    $request = new WorkspaceIdRequestBody();
    $request->workspaceId = 'dc692601-fb57-46b0-95f0-d30c5fbb2587';

    $response = $sdk->connection->listConnectionsForWorkspace($request);

    if ($response->connectionReadList !== null) {
        // handle response
    }
} catch (Exception $e) {
    // handle exception
}
```

## resetConnection

Reset the data for the connection. Deletes data generated by the connection in the destination. Resets any cursors back to initial state.

### Example Usage

```php
<?php

declare(strict_types=1);
require_once 'vendor/autoload.php';

use \airbyte\airbyte_oss\SDK;
use \airbyte\airbyte_oss\Models\Shared\ConnectionIdRequestBody;

$sdk = SDK::builder()
    ->build();

try {
    $request = new ConnectionIdRequestBody();
    $request->connectionId = '053202c7-3d5f-4e9b-90c2-8909b3fe49a8';

    $response = $sdk->connection->resetConnection($request);

    if ($response->jobInfoRead !== null) {
        // handle response
    }
} catch (Exception $e) {
    // handle exception
}
```

## searchConnections

Search connections

### Example Usage

```php
<?php

declare(strict_types=1);
require_once 'vendor/autoload.php';

use \airbyte\airbyte_oss\SDK;
use \airbyte\airbyte_oss\Models\Shared\ConnectionSearch;
use \airbyte\airbyte_oss\Models\Shared\DestinationSearch;
use \airbyte\airbyte_oss\Models\Shared\NamespaceDefinitionTypeEnum;
use \airbyte\airbyte_oss\Models\Shared\ConnectionSchedule;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleTimeUnitEnum;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleData;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleDataBasicSchedule;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleDataBasicScheduleTimeUnitEnum;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleDataCron;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleTypeEnum;
use \airbyte\airbyte_oss\Models\Shared\SourceSearch;
use \airbyte\airbyte_oss\Models\Shared\ConnectionStatusEnum;

$sdk = SDK::builder()
    ->build();

try {
    $request = new ConnectionSearch();
    $request->connectionId = 'd9cbf486-3332-43f9-b77f-3a4100674ebf';
    $request->destination = new DestinationSearch();
    $request->destination->connectionConfiguration = 'voluptas';
    $request->destination->destinationDefinitionId = '9280d1ba-77a8-49eb-b737-ae4203ce5e6a';
    $request->destination->destinationId = '95d8a0d4-46ce-42af-ba73-cf3be453f870';
    $request->destination->destinationName = 'expedita';
    $request->destination->name = 'Jane Kassulke';
    $request->destination->workspaceId = 'a73429cd-b1a8-4422-bb67-9d2322715bf0';
    $request->destinationId = 'cbb1e31b-8b90-4f34-83a1-108e0adcf4b9';
    $request->name = 'Amy Langworth';
    $request->namespaceDefinition = NamespaceDefinitionTypeEnum::CUSTOMFORMAT;
    $request->namespaceFormat = '${SOURCE_NAMESPACE}';
    $request->prefix = 'quisquam';
    $request->schedule = new ConnectionSchedule();
    $request->schedule->timeUnit = ConnectionScheduleTimeUnitEnum::MONTHS;
    $request->schedule->units = 606476;
    $request->scheduleData = new ConnectionScheduleData();
    $request->scheduleData->basicSchedule = new ConnectionScheduleDataBasicSchedule();
    $request->scheduleData->basicSchedule->timeUnit = ConnectionScheduleDataBasicScheduleTimeUnitEnum::HOURS;
    $request->scheduleData->basicSchedule->units = 218403;
    $request->scheduleData->cron = new ConnectionScheduleDataCron();
    $request->scheduleData->cron->cronExpression = 'delectus';
    $request->scheduleData->cron->cronTimeZone = 'voluptate';
    $request->scheduleType = ConnectionScheduleTypeEnum::MANUAL;
    $request->source = new SourceSearch();
    $request->source->connectionConfiguration = 'vero';
    $request->source->name = 'Julio Weissnat';
    $request->source->sourceDefinitionId = '7abd74dd-39c0-4f5d-acff-7c70a45626d4';
    $request->source->sourceId = '36813f16-d9f5-4fce-ac55-6146c3e250fb';
    $request->source->sourceName = 'aut';
    $request->source->workspaceId = '08c42e14-1aac-4366-88dd-6b1442907474';
    $request->sourceId = '778a7bd4-66d2-48c1-8ab3-cdca4251904e';
    $request->status = ConnectionStatusEnum::INACTIVE;

    $response = $sdk->connection->searchConnections($request);

    if ($response->connectionReadList !== null) {
        // handle response
    }
} catch (Exception $e) {
    // handle exception
}
```

## syncConnection

Trigger a manual sync of the connection

### Example Usage

```php
<?php

declare(strict_types=1);
require_once 'vendor/autoload.php';

use \airbyte\airbyte_oss\SDK;
use \airbyte\airbyte_oss\Models\Shared\ConnectionIdRequestBody;

$sdk = SDK::builder()
    ->build();

try {
    $request = new ConnectionIdRequestBody();
    $request->connectionId = '23c7e0bc-7178-4e47-96f2-a70c688282aa';

    $response = $sdk->connection->syncConnection($request);

    if ($response->jobInfoRead !== null) {
        // handle response
    }
} catch (Exception $e) {
    // handle exception
}
```

## updateConnection

Apply a patch-style update to a connection. Only fields present on the update request body will be updated.
Note that if a catalog is present in the request body, the connection's entire catalog will be replaced
with the catalog from the request. This means that to modify a single stream, the entire new catalog
containing the updated stream needs to be sent.


### Example Usage

```php
<?php

declare(strict_types=1);
require_once 'vendor/autoload.php';

use \airbyte\airbyte_oss\SDK;
use \airbyte\airbyte_oss\Models\Shared\ConnectionUpdate;
use \airbyte\airbyte_oss\Models\Shared\GeographyEnum;
use \airbyte\airbyte_oss\Models\Shared\NamespaceDefinitionTypeEnum;
use \airbyte\airbyte_oss\Models\Shared\NonBreakingChangesPreferenceEnum;
use \airbyte\airbyte_oss\Models\Shared\ResourceRequirements;
use \airbyte\airbyte_oss\Models\Shared\ConnectionSchedule;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleTimeUnitEnum;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleData;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleDataBasicSchedule;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleDataBasicScheduleTimeUnitEnum;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleDataCron;
use \airbyte\airbyte_oss\Models\Shared\ConnectionScheduleTypeEnum;
use \airbyte\airbyte_oss\Models\Shared\ConnectionStatusEnum;
use \airbyte\airbyte_oss\Models\Shared\AirbyteCatalog;
use \airbyte\airbyte_oss\Models\Shared\AirbyteStreamAndConfiguration;
use \airbyte\airbyte_oss\Models\Shared\AirbyteStreamConfiguration;
use \airbyte\airbyte_oss\Models\Shared\DestinationSyncModeEnum;
use \airbyte\airbyte_oss\Models\Shared\SelectedFieldInfo;
use \airbyte\airbyte_oss\Models\Shared\SyncModeEnum;
use \airbyte\airbyte_oss\Models\Shared\AirbyteStream;

$sdk = SDK::builder()
    ->build();

try {
    $request = new ConnectionUpdate();
    $request->breakingChange = false;
    $request->connectionId = '482562f2-22e9-4817-ae17-cbe61e6b7b95';
    $request->geography = GeographyEnum::EU;
    $request->name = 'Mark Nicolas';
    $request->namespaceDefinition = NamespaceDefinitionTypeEnum::CUSTOMFORMAT;
    $request->namespaceFormat = '${SOURCE_NAMESPACE}';
    $request->nonBreakingChangesPreference = NonBreakingChangesPreferenceEnum::IGNORE;
    $request->notifySchemaChanges = false;
    $request->operationIds = [
        'c4f3789f-d871-4f99-9d2e-fd121aa6f1e6',
    ];
    $request->prefix = 'in';
    $request->resourceRequirements = new ResourceRequirements();
    $request->resourceRequirements->cpuLimit = 'eius';
    $request->resourceRequirements->cpuRequest = 'libero';
    $request->resourceRequirements->memoryLimit = 'illum';
    $request->resourceRequirements->memoryRequest = 'soluta';
    $request->schedule = new ConnectionSchedule();
    $request->schedule->timeUnit = ConnectionScheduleTimeUnitEnum::MINUTES;
    $request->schedule->units = 306986;
    $request->scheduleData = new ConnectionScheduleData();
    $request->scheduleData->basicSchedule = new ConnectionScheduleDataBasicSchedule();
    $request->scheduleData->basicSchedule->timeUnit = ConnectionScheduleDataBasicScheduleTimeUnitEnum::MONTHS;
    $request->scheduleData->basicSchedule->units = 119771;
    $request->scheduleData->cron = new ConnectionScheduleDataCron();
    $request->scheduleData->cron->cronExpression = 'ullam';
    $request->scheduleData->cron->cronTimeZone = 'reprehenderit';
    $request->scheduleType = ConnectionScheduleTypeEnum::BASIC;
    $request->sourceCatalogId = '6082d68e-a19f-41d1-b051-339d08086a18';
    $request->status = ConnectionStatusEnum::ACTIVE;
    $request->syncCatalog = new AirbyteCatalog();
    $request->syncCatalog->streams = [
        new AirbyteStreamAndConfiguration(),
    ];

    $response = $sdk->connection->updateConnection($request);

    if ($response->connectionRead !== null) {
        // handle response
    }
} catch (Exception $e) {
    // handle exception
}
```
